# MCP 簡介

# LLM 是住在封閉圖書館內的小孩

```

       o
      / \
     -----
    /     \
   ---------  
__/         \__
 |_    []   _|
 |_   /||\  _|
 |_    /\   _|
--------------- 
///////////////

```

# 各開發商幫 LLM 裝了可以跟外界交談的電話

```

       o             +---------+
      / \            | Claude  |
     -----        +--+ ChatGPT | 一般使用者使用
    /     \       |  |   ...   |
   ---------      |  +---------+    
__/         \__   |
 |_    []   _|🕻---+  +---------+
 |_   /||\  _|       |         |
 |_    /\   _|🕻------+ LLM API | 客製應用程式
---------------      |         |
///////////////      +---------+

```

# 跟外界溝通的兩個問題

```

       o             +---------+
      / \            | Claude  | 無法獲取外部資訊
     -----        +--+ ChatGPT | 無法執行實際動作
    /     \       |  |   ...   | 無止盡的複製貼上
   ---------      |  +---------+    
__/         \__   |
 |_    []   _|🕻---+  +---------+
 |_   /||\  _|       |         | 先問 LLM 要做什麼 
 |_    /\   _|🕻------+ LLM API | 再把回覆轉換成動作
---------------      |         | 複雜而且具不穩定性
///////////////      +---------+

```

# OpenAI 嘗試幫 LLM 生出感官與手腳

```

       o             +---------+      遠端伺服器
      / \            |         |     +---------+
     -----        +--+ ChatGPT +🕻----+ actions |
    /     \       |  |         |     +---------+
   ---------      |  +---------+    
__/         \__   |              本機程式內的函式
 |_    []   _|🕻---+  +------------------------------+
 |_   /||\  _|       |         +------------------+ |
 |_    /\   _|🕻------+ OpenAI  | Function calling | |
---------------      | API     +------------------+ |
///////////////      +------------------------------+

```

# 但這有兩個問題

```

       o             +---------+      遠端伺服器（碰不到使用者的電腦）
      / \            |         |     +---------+
     -----        +--+ ChatGPT +🕻----+ actions +-----> 規格不同
    /     \       |  |         |     +---------+       無法互通
   ---------      |  +---------+                          ^
__/         \__   |    程式內的函式（不動程式碼無法分享） |
 |_    []   _|🕻---+  +------------------------------+     |
 |_   /||\  _|       |         +------------------+ |     |
 |_    /\   _|🕻------+ OpenAI  | Function calling | +-----+
---------------      | API     +------------------+ |
///////////////      +------------------------------+

```

# Anthropic 制訂 MCP 要一統江湖

```
                       MCP Host（與 LLM 溝通）   標準溝通方式   遠端/本機皆可
       o             +-----------------------+                 +-------------+
      / \            | Claude  +-----------+ |                 | MCP Server  |
     -----        +--+ ChatGPT | MCP client+-+🕻-+           +--+ Tools:      |
    /     \       |  |   ...   +-----------+ |  |  +-----+  |  | run cmd...  |
   ---------      |  +-----------------------+  |  |     |  |  +-------------+
__/         \__   |                             +--+ MCP +--+  ...  
 |_    []   _|🕻---+  +-----------------------+  |  |     |  |  +-------------+
 |_   /||\  _|       |         +-----------+ |  |  +-----+  |  | MCP Server  |
 |_    /\   _|🕻------+ LLM API | MCP client+-+🕻-+           +--+ Tools:      |
---------------      |         +-----------+ |                 | fetch web...|
///////////////      +-----------------------+                 +-------------+

```

# 實際上 MCP 是 function calling 的 proxy

```
                              | function calling    proxy        叫用實際函式                         
       o             +--------|--------------+    （轉 接）    +-------------+
      / \            | Claude |+-----------+ |                 | MCP Server  |
     -----        +--+ ChatGPT|| MCP client+-+🕻-+           +--+ Tools:      |
    /     \       |  |   ...  |+-----------+ |  |  +-----+  |  | run cmd...  |
   ---------      |  +--------|--------------+  |  |     |  |  +-------------+
__/         \__   |                             +--+ MCP +--+  ...  
 |_    []   _|🕻---+  +--------|--------------+  |  |     |  |  +-------------+
 |_   /||\  _|       |        |+-----------+ |  |  +-----+  |  | MCP Server  |
 |_    /\   _|🕻------+ LLM API|| MCP client+-+🕻-+           +--+ Tools:      |
---------------      |        |+-----------+ |                 | fetch web...|
///////////////      +--------|--------------+                 +-------------+
```

# MCP 的優點--標準化、具彈性可隨意更換

```
                       可更換 |                MCP 不涉及兩端      可更換                          
       o             +--------|--------------+ 實際的功能內容  +-------------+
      / \            | Claude |+-----------+ | 只制訂溝通方式  | MCP Server  |
     -----        +--+ ChatGPT|| MCP client+-+🕻-+           +--+ Tools:      |
    /     \       |  |   ...  |+-----------+ |  |  +-----+  |  | run cmd...  |
   ---------      |  +--------|--------------+  |  |     |  |  +-------------+
__/         \__   |                             +--+ MCP +--+  ...  
 |_    []   _|🕻---+  +--------|--------------+  |  |     |  |  +-------------+
 |_   /||\  _|       |        |+-----------+ |  |  +-----+  |  | MCP Server  |
 |_    /\   _|🕻------+ LLM API|| MCP client+-+🕻-+           +--+ Tools:      |
---------------      |        |+-----------+ |                 | fetch web...|
///////////////      +--------|--------------+                 +-------------+
```

# DEMO

- 讓 LLM 在本機下指令
- 讓 LLM 串接 Spotify
- 相同 MCP Server 更換不同 MCP Host

# 總結

## MCP 解決的事情

- 讓 LLM 可以執行實際的動作
- 讓 LLM 可以獲取外部資訊

## MCP 無關的事情

- 讓 LLM 更聰明
- 讓 LLM 自動就可以處理所有事

## MCP 發展

- 有 API 的應用程式第一波會接上 LLM
- 接上 LLM 這件事也許可以賣錢
